<!DOCTYPE html>
<html>
<head>
	<title>JSBase</title>
	<meta charset=utf-8 />
	<link rel="stylesheet" type="text/css" href="css/style.css" media="all"/>
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
</head>

<body ng-app="MonApp">
	<div ng-controller="MainController" id="main-container">
		<div class="col-md-8 col-md-offset-2">
		<h2>Bienvenue sur JSBase</h2>
		<div id="button-zone">
			<button  value=" Send" class="btn btn-primary" type="submit">Sauvegarder les modifications</button>
			<button  value=" Send" class="btn btn-primary" type="submit">Appliquer les modifications</button>
		</div>
		<div id="serversSlider">
			<ul>
				<li ng-repeat="server in dataServer.servers" class="serverSlider" x-lvl-draggable='true' serverId="{{server.id}}">
					id: {{server.id}} <br>
					weight: {{server.weight}}
					<br>
					<img src="img/server.png" alt="serverSlider"/>

					<progressbar class="progress-striped active" value="weightPercent(server.weight,totalWeight)" type="{{weightWarningType(server.weight,totalWeight)}}"></progressbar>
				</li>
			</ul>
		</div>
		<div id ="serverContainer" x-lvl-drop-target='true' x-on-drop='droppedServer(dragEl, dropEl)'>
			<p>
				worstImbalance: {{dataServer.worstImbalance}} kg <br>
				Servers:
				
				<div ng-repeat="chunkServer in splitServers">
					<div class="row">
						<div ng-repeat="server in chunkServer" class="col-md-3">
							<div class="server">
							<!-- <div ng-repeat="server in dataServer.servers" class="col-md-4"> -->
								<img src="img/server.png" alt="server" />
								<span class="server-id">
									id: {{server.id}} <br>
									weight: {{server.weight}} kg
								</span>
								<ul class="shards" x-lvl-drop-target='true' x-on-drop='dropped(dragEl, dropEl)' serverWeight="{{server.weight}}" serverId="{{server.id}}"> Shards :
									
									<li ng-repeat="shard in server.shards" class="shard" x-lvl-draggable='true' weight="{{shard.weight}}" serverId="{{server.id}}" shardId="{{shard.id}}">
										id: {{shard.id}} <br/>
										weight: {{shard.weight}}kg
										<progressbar class="progress-striped active" value="weightPercent(shard.weight,server.weight)" type="{{weightWarningType(shard.weight,server.weight)}}"></progressbar>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</p>
		</div>
		</div>
	</div>
	
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script src="js/client/client.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

	<script src="js/ui-bootstrap/ui-bootstrap-0.11.0.min.js"></script>
	<script src="js/ui-bootstrap/ui-bootstrap-tpls-0.11.0.js"></script>
	<script src="js/dragAndDrop/lvl-uuid.js"></script>
	<script src="js/dragAndDrop/lvl-drag-drop.js"></script>
</body>
</html>